# ğŸ“ Open-LLM-VTuber é…ç½®æ–‡ä»¶å®é™…æ¨¡æ¿

## ğŸ“‚ æ–‡ä»¶ä½ç½®å’Œä½œç”¨å¯¹ç…§è¡¨

```
Open-LLM-VTuber/
â”‚
â”œâ”€â”€ models/live2d_models/
â”‚   â”œâ”€â”€ model_dict.json              â† æ¨¡å‹æ³¨å†Œè¡¨ï¼ˆæœ¬æ–‡ä»¶ 1ï¸âƒ£ï¼‰
â”‚   â””â”€â”€ your_character/
â”‚       â””â”€â”€ model.model3.json        ï¼ˆæ¨¡å‹å†…ç½®ï¼Œæ— éœ€ä¿®æ”¹ï¼‰
â”‚
â””â”€â”€ characters/
    â”œâ”€â”€ conf.yaml                    â† é»˜è®¤è§’è‰²é…ç½®ï¼ˆæœ¬æ–‡ä»¶ 2ï¸âƒ£ï¼‰
    â””â”€â”€ lisette_classroom.yaml       â† è‡ªå®šä¹‰è§’è‰²é…ç½®ï¼ˆæœ¬æ–‡ä»¶ 3ï¸âƒ£ï¼‰
```

---

## ğŸ“„ æ–‡ä»¶ 1ï¸âƒ£ï¼šmodel_dict.json æ¨¡å‹æ³¨å†Œè¡¨

**æ–‡ä»¶è·¯å¾„**: `models/live2d_models/model_dict.json`

**ä½œç”¨**: æ³¨å†Œæ‰€æœ‰å¯ç”¨çš„ Live2D æ¨¡å‹ï¼ŒåŒ…æ‹¬ç¼©æ”¾ã€ä½ç½®ã€è¡¨æƒ…æ˜ å°„

### å®Œæ•´ç¤ºä¾‹ä»£ç 

```json
[
  {
    "name": "Kohaku",
    "path": "models/live2d_models/Kohaku/Kohaku.model3.json",
    "url": "models/live2d_models/Kohaku/Kohaku.model3.json",
    "kScale": 0.4,
    "initialXshift": 0,
    "initialYshift": 0.05,
    "idleMotionGroupName": "idle",
    "defaultEmotion": 0,
    "emotionMap": {
      "neutral": 0,
      "anger": 1,
      "disgust": 1,
      "fear": 2,
      "joy": 3,
      "sadness": 2,
      "surprise": 3,
      "smirk": 3
    }
  },
  {
    "name": "Lisette_Classroom",
    "path": "models/live2d_models/lisette/lisette.model3.json",
    "url": "models/live2d_models/lisette/lisette.model3.json",
    "kScale": 0.55,
    "initialXshift": 0,
    "initialYshift": 0.05,
    "idleMotionGroupName": "idle",
    "defaultEmotion": 0,
    "emotionMap": {
      "neutral": 0,
      "anger": 2,
      "disgust": 2,
      "fear": 1,
      "joy": 3,
      "sadness": 1,
      "surprise": 3,
      "smirk": 3
    },
    "tapMotions": {
      "head": {
        "motion": ["talk_01", "talk_02", "idle_01"],
        "weight": 1
      }
    }
  },
  {
    "name": "PetBuddy_Educational",
    "path": "models/live2d_models/wanko/wanko.model3.json",
    "url": "models/live2d_models/wanko/wanko.model3.json",
    "kScale": 0.45,
    "initialXshift": 0.1,
    "initialYshift": 0.2,
    "idleMotionGroupName": "idle",
    "defaultEmotion": 0,
    "emotionMap": {
      "neutral": 0,
      "anger": 1,
      "disgust": 1,
      "fear": 2,
      "joy": 0,
      "sadness": 2,
      "surprise": 3,
      "smirk": 0
    }
  }
]
```

### å‚æ•°è¯¦è§£è¡¨

| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|--------|------|------|
| `name` | string | âœ… | æ¨¡å‹å”¯ä¸€æ ‡è¯†ï¼ˆå‰ç«¯é€‰æ‹©èœå•æ˜¾ç¤ºï¼‰| `"Lisette_Classroom"` |
| `path` | string | âœ… | æœ¬åœ°æ¨¡å‹æ–‡ä»¶è·¯å¾„ | `"models/live2d_models/lisette/lisette.model3.json"` |
| `url` | string | âœ… | ç½‘é¡µè®¿é—® URLï¼ˆé€šå¸¸åŒ pathï¼‰ | åŒ path |
| `kScale` | float | âœ… | ç¼©æ”¾æ¯”ä¾‹ï¼ˆ0.2-1.0ï¼‰ | `0.55` |
| `initialXshift` | float | âŒ | X è½´åç§»ï¼ˆ-1 åˆ° 1ï¼‰ | `-0.2` è¡¨ç¤ºå·¦å 20% |
| `initialYshift` | float | âŒ | Y è½´åç§»ï¼ˆ-1 åˆ° 1ï¼‰ | `0.1` è¡¨ç¤ºä¸Šå 10% |
| `idleMotionGroupName` | string | âŒ | ç©ºé—²åŠ¨ä½œæ–‡ä»¶å¤¹å | `"idle"` |
| `defaultEmotion` | number \| string | âŒ | é»˜è®¤è¡¨æƒ…ï¼ˆç´¢å¼•æˆ–åç§°ï¼‰ | `0` æˆ– `"f01"` |
| `emotionMap` | object | âœ… | æƒ…ç»ªåˆ°è¡¨æƒ…çš„æ˜ å°„ | è§ä¸‹è¡¨ |
| `tapMotions` | object | âŒ | ç‚¹å‡»äº¤äº’åŠ¨ä½œé…ç½® | è§ä¸‹è¡¨ |

### emotionMapï¼ˆè¡¨æƒ…æ˜ å°„ï¼‰è¯¦è§£

```json
"emotionMap": {
  "neutral": 0,      // ä¸­ç«‹/å¾®ç¬‘ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰
  "anger": 2,        // æ„¤æ€’/ä¸æ»¡
  "disgust": 2,      // åŒæ¶/çš±çœ‰
  "fear": 1,         // å®³æ€•/æƒŠè®¶
  "joy": 3,          // å¼€å¿ƒ/å¤§ç¬‘
  "sadness": 1,      // ä¼¤å¿ƒ/å“­æ³£
  "surprise": 3,     // æƒŠè®¶/å…´å¥‹
  "smirk": 3         // è°ƒçš®/åç¬‘
}
```

**å·¥ä½œæµç¨‹**ï¼š
```
LLM è¾“å‡º: "å¤ªå¥½äº†ï¼[joy]"
         â†“
ç³»ç»Ÿè¯†åˆ« [joy] æ ‡ç­¾
         â†“
æŸ¥æ‰¾ emotionMap ä¸­çš„ "joy"
         â†“
å–å€¼ 3ï¼ˆè¡¨ç¤ºç¬¬ 4 ä¸ªè¡¨æƒ…ï¼‰
         â†“
Live2D æ¨¡å‹æ’­æ”¾ç¬¬ 4 ä¸ªè¡¨æƒ…åŠ¨ç”»
```

### tapMotionsï¼ˆç‚¹å‡»äº¤äº’ï¼‰è¯¦è§£

```json
"tapMotions": {
  "head": {
    "motion": ["talk_01", "talk_02"],  // éšæœºä»ä¸­é€‰æ‹©
    "weight": 1                         // è§¦å‘æƒé‡ï¼ˆ1 = 100%ï¼‰
  },
  "body": {
    "motion": ["idle_01", "idle_02"],
    "weight": 1
  },
  "other": {
    "motion": ["special_animation"],
    "weight": 0.5                       // 50% æ¦‚ç‡è§¦å‘
  }
}
```

---

## ğŸ“„ æ–‡ä»¶ 2ï¸âƒ£ï¼šconf.yaml ä¸»é…ç½®æ–‡ä»¶

**æ–‡ä»¶è·¯å¾„**: `characters/conf.yaml`

**ä½œç”¨**: é»˜è®¤è§’è‰²é…ç½®ï¼ŒåŒ…æ‹¬ LLMã€TTSã€ASRã€Live2D æ¨¡å‹é€‰æ‹©

### å®Œæ•´ç¤ºä¾‹ä»£ç ï¼ˆæ•™å®¤åœºæ™¯ï¼‰

```yaml
################################
# ğŸ“ æ•™å®¤åŠ©æ‰‹ç‰ˆæœ¬ï¼ˆæ¨èé…ç½®ï¼‰
################################

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 1ï¸âƒ£ è§’è‰²åŸºæœ¬ä¿¡æ¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

character:
  name: "ä¸½å¡ç‰¹æ•™å®¤åŠ©æ‰‹"
  description: "å‹å–„ã€è€å¿ƒçš„æ•™å®¤å°åŠ©æ‰‹ï¼Œä¸å°å­¦ç”Ÿè¿›è¡Œäº’åŠ¨å­¦ä¹ "


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 2ï¸âƒ£ Live2D æ¨¡å‹é…ç½®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

live2d:
  # åœ¨ models/live2d_models/model_dict.json ä¸­æ³¨å†Œçš„æ¨¡å‹åç§°
  model_name: "Lisette_Classroom"
  
  # æ¨¡å‹ä½ç½®æ˜¾ç¤º
  position:
    x: 0.5      # 0 = å·¦ï¼Œ0.5 = ä¸­é—´ï¼Œ1 = å³
    y: 0.8      # 0 = ä¸‹ï¼Œ0.5 = ä¸­é—´ï¼Œ1 = ä¸Š


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 3ï¸âƒ£ LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰é…ç½®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

llm:
  provider: "ollama"              # ä½¿ç”¨ Ollama æœ¬åœ°æ¨ç†
  # provider: "openai"            # æˆ– OpenAIï¼ˆéœ€ API keyï¼‰
  
  model: "qwen2:latest"           # ä½¿ç”¨çš„æ¨¡å‹
  # å…¶ä»–é€‰é¡¹ï¼š
  # - "qwen2:7b"        (å°æ¨¡å‹ï¼Œå¿«é€Ÿ)
  # - "llama2:latest"   (é€šç”¨æ¨¡å‹)
  # - "neural-chat"     (å¯¹è¯ä¼˜åŒ–)
  
  base_url: "http://localhost:11434"  # Ollama æœåŠ¡åœ°å€
  
  # æ¨¡å‹å‚æ•°
  temperature: 0.7                # åˆ›æ„ç¨‹åº¦ï¼ˆ0=ä¸¥è°¨ï¼Œ1=åˆ›æ„ï¼‰
  max_tokens: 512                 # æœ€å¤§å›å¤é•¿åº¦
  top_p: 0.9                      # å¤šæ ·æ€§å‚æ•°
  
  # ç³»ç»Ÿæç¤ºè¯ï¼ˆå®šä¹‰è§’è‰²æ€§æ ¼ï¼‰
  system_prompt: |
    ä½ æ˜¯ä¸€ä¸ªæ´»æ³¼ã€å‹å–„çš„æ•™å®¤å°åŠ©æ‰‹ï¼Œåå«ä¸½å¡ç‰¹ã€‚
    
    ğŸ¯ ä½ çš„èŒè´£ï¼š
    - å¸®åŠ©å°å­¦ç”Ÿå­¦ä¹ å’Œå›ç­”é—®é¢˜
    - ç”¨ç®€å•æ˜“æ‡‚çš„ä¸­æ–‡è§£é‡Š
    - é¼“åŠ±å’Œè¡¨æ‰¬å­¦ç”Ÿçš„è¿›æ­¥
    - è®²æœ‰è¶£çš„æ•…äº‹å’Œå¼€å­¦ç›¸å…³çš„ç©ç¬‘
    
    ğŸ’« ä½ çš„ç‰¹ç‚¹ï¼š
    - è¯­è¨€ç®€æ´ï¼Œé¿å…å¤æ‚ä¸“ä¸šæœ¯è¯­
    - æ€åº¦å‹å¥½ã€è€å¿ƒã€ç§¯æ
    - ä¸»åŠ¨å…³å¿ƒå­¦ç”Ÿçš„å­¦ä¹ å’Œç”Ÿæ´»
    - èƒ½å¤Ÿè°ƒæ•´éš¾åº¦æ¥å¸®åŠ©å­¦ç”Ÿ
    
    ğŸ˜Š è¡¨æƒ…æ ‡ç­¾ä½¿ç”¨æŒ‡å—ï¼š
    åœ¨å›ç­”ä¸­ä½¿ç”¨ä»¥ä¸‹æ ‡ç­¾æ¥æ§åˆ¶ä½ çš„è¡¨æƒ…ï¼š
    - [neutral]  - æ™®é€šèŠå¤©ã€è®²è¯¾
    - [joy]      - éå¸¸å¼€å¿ƒã€åº†ç¥æˆåŠŸã€è¡¨æ‰¬
    - [surprise] - æƒŠå–œã€å…´å¥‹ã€"å“‡ï¼"
    - [sadness]  - åŒæƒ…ã€å®‰æ…°ã€è®²éš¾è¿‡çš„æ•…äº‹
    - [anger]    - ä¸èµæˆï¼ˆå¾ˆå°‘ä½¿ç”¨ï¼‰
    - [fear]     - å®³æ€•ã€ç´§å¼ çš„æ•…äº‹
    
    ğŸ¤ ç¤ºä¾‹å¯¹è¯ï¼š
    å­¦ç”Ÿé—®ï¼š"ä»€ä¹ˆæ˜¯å…‰åˆä½œç”¨ï¼Ÿ"
    ä½ çš„å›ç­”ï¼š"å¤ªå¥½äº† [joy]ï¼Œä½ é—®äº†ä¸€ä¸ªå¾ˆæ£’çš„é—®é¢˜ï¼å…‰åˆä½œç”¨å°±æ˜¯..."
    
    å­¦ç”Ÿè¯´ï¼š"æˆ‘è§‰å¾—æ•°å­¦å¤ªéš¾äº†"
    ä½ çš„å›ç­”ï¼š"åˆ«æ‹…å¿ƒ [sadness]ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥è§£å†³ï¼ä½ å·²ç»åšå¾—å¾ˆå¥½äº†..."


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 4ï¸âƒ£ TTSï¼ˆæ–‡å­—è½¬è¯­éŸ³ï¼‰é…ç½®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

tts:
  provider: "edge_tts"            # ä½¿ç”¨ Microsoft Edge TTSï¼ˆå…è´¹ï¼‰
  # å…¶ä»–é€‰é¡¹ï¼š
  # - "pyttsx3"        (ç¦»çº¿ã€å¿«é€Ÿï¼Œä½†éŸ³è´¨ä¸€èˆ¬)
  # - "cosyvoice"      (å¼€æºã€éŸ³è´¨å¥½)
  # - "gptsovits"      (æ”¯æŒå£°éŸ³å…‹éš†)
  
  # Edge TTS è¯­è¨€é…ç½®ï¼ˆä¸­æ–‡å„¿ç«¥å‹å¥½ï¼‰
  voice: "zh-CN-XiaoxiaoNeural"
  # å…¶ä»–ä¸­æ–‡å¥³æ€§å£°éŸ³ï¼š
  # - "zh-CN-XiaozhenNeural"    (æ¸©æŸ”)
  # - "zh-CN-XiaoyouNeural"     (å¹´è½»)
  # - "zh-CN-YunjianNeural"     (ç”·æ€§ï¼Œæ²‰ç¨³)
  
  speed: 1.0                      # è¯­é€Ÿï¼ˆ0.5=æ…¢ï¼Œ1=æ­£å¸¸ï¼Œ1.5=å¿«ï¼‰
  pitch: 1.0                      # éŸ³è°ƒï¼ˆ0.5-2.0ï¼‰
  volume: 100                     # éŸ³é‡ï¼ˆ0-100ï¼‰


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 5ï¸âƒ£ ASRï¼ˆè¯­éŸ³è½¬æ–‡å­—ï¼‰é…ç½®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

asr:
  provider: "faster_whisper"      # å¿«é€Ÿè¯­éŸ³è¯†åˆ«ï¼ˆæ¨èï¼‰
  # å…¶ä»–é€‰é¡¹ï¼š
  # - "whisper"        (åŸå§‹ Whisperï¼Œæ…¢)
  # - "funASR"         (é˜¿é‡Œå¼€æºï¼Œä¸­æ–‡ä¼˜åŒ–)
  # - "sherpa-onnx"    (ç¦»çº¿ï¼Œè½»é‡çº§)
  
  language: "zh"                  # è¯­è¨€ä»£ç ï¼šzh = ä¸­æ–‡
  device: "auto"                  # è®¾å¤‡ï¼šauto/cuda/cpu
  # ä½¿ç”¨ GPU åŠ é€Ÿè¯†åˆ«ï¼ˆå¦‚æœæœ‰ NVIDIA GPUï¼‰


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 6ï¸âƒ£ éŸ³é¢‘è¾“å…¥è¾“å‡ºé…ç½®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

audio:
  # éº¦å…‹é£è¾“å…¥
  input:
    device_id: -1                 # -1 = è‡ªåŠ¨é€‰æ‹©
    sample_rate: 16000            # é‡‡æ ·ç‡ï¼ˆ16000 æ˜¯æ ‡å‡†ï¼‰
    chunk_size: 1024              # éŸ³é¢‘å—å¤§å°
  
  # æ‰¬å£°å™¨è¾“å‡º
  output:
    device_id: -1                 # -1 = è‡ªåŠ¨é€‰æ‹©
    sample_rate: 22050            # è¾“å‡ºé‡‡æ ·ç‡


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 7ï¸âƒ£ å‰ç«¯ Web é…ç½®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

frontend:
  # Web æœåŠ¡å™¨è®¾ç½®
  host: "127.0.0.1"
  port: 5000
  debug: false
  
  # å‰ç«¯é€‰é¡¹
  floating_mode: true             # å¯ç”¨æ‚¬æµ®æ¨¡å¼
  auto_play_audio: true           # è‡ªåŠ¨æ’­æ”¾ AI è¯­éŸ³
  show_emotion_labels: true       # æ˜¾ç¤ºæƒ…ç»ªæ ‡ç­¾
  
  # ä¸»é¢˜
  theme: "light"                  # "light" æˆ– "dark"


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 8ï¸âƒ£ å¯¹è¯è¡Œä¸ºé…ç½®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

conversation:
  # å¯¹è¯è®°å¿†
  max_history: 10                 # ä¿å­˜æœ€è¿‘ 10 æ¡å¯¹è¯
  
  # å“åº”é€‰é¡¹
  enable_interruption: true       # å¯ç”¨æ‰“æ–­ï¼ˆç”¨æˆ·è¯´è¯æ—¶åœæ­¢æ’­æ”¾ï¼‰
  enable_proactive_chat: false    # ç¦ç”¨ä¸»åŠ¨èŠå¤©ï¼ˆæ•™å®¤åœºæ™¯ä¸éœ€è¦ï¼‰
  
  # æƒ…æ„Ÿè¡¨è¾¾
  enable_emotions: true           # å¯ç”¨è¡¨æƒ…å˜åŒ–
  emotion_confidence: 0.5         # è¯†åˆ«ä¿¡å¿ƒé˜ˆå€¼


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 9ï¸âƒ£ æ—¥å¿—å’Œè°ƒè¯•
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

logging:
  level: "INFO"                   # DEBUG / INFO / WARNING / ERROR
  save_logs: true
  log_file: "logs/chat.log"
```

### å¿«é€Ÿåˆ‡æ¢æ¨¡å‹

åªéœ€ä¿®æ”¹è¿™ä¸€è¡Œï¼š
```yaml
live2d:
  model_name: "Lisette_Classroom"
  # æ”¹ä¸ºï¼š
  model_name: "PetBuddy_Educational"
```

---

## ğŸ“„ æ–‡ä»¶ 3ï¸âƒ£ï¼šlisette_classroom.yaml è‡ªå®šä¹‰è§’è‰²

**æ–‡ä»¶è·¯å¾„**: `characters/lisette_classroom.yaml`

**ä½œç”¨**: ä¸ºæŸä¸ªç‰¹å®šè§’è‰²åˆ›å»ºç‹¬ç«‹é…ç½®ï¼Œå¯åœ¨å‰ç«¯åˆ‡æ¢ä½¿ç”¨

### å®Œæ•´ç¤ºä¾‹ä»£ç 

```yaml
################################
# ğŸ“š ä¸½å¡ç‰¹ - æ•™å®¤å­¦ä¹ åŠ©æ‰‹
# è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„è§’è‰²é…ç½®æ–‡ä»¶
# ä½ å¯ä»¥å¤åˆ¶æ­¤æ–‡ä»¶åˆ›å»ºæ–°è§’è‰²ï¼Œä¿®æ”¹å‚æ•°å³å¯
################################

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# åŸºæœ¬ä¿¡æ¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

name: "ä¸½å¡ç‰¹ï¼ˆæ•™å®¤å­¦ä¹ åŠ©æ‰‹ï¼‰"
description: "ä¸€ä¸ªå‹å–„ã€çŸ¥è¯†ä¸°å¯Œçš„å¥³æ€§åŠ©æ‰‹ï¼Œä¸“é—¨å¸®åŠ©å°å­¦ç”Ÿå­¦ä¹ "
version: "1.0"
created_date: "2025-01-03"


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Live2D æ¨¡å‹é€‰æ‹©
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

live2d_model_name: "Lisette_Classroom"


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# LLM é…ç½® - å¤§è¯­è¨€æ¨¡å‹å‚æ•°
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

llm_config:
  provider: "ollama"
  model: "qwen2:latest"
  base_url: "http://localhost:11434"
  
  # å‚æ•°è°ƒä¼˜
  temperature: 0.7              # åˆ›æ„ä¸ä¸€è‡´æ€§çš„å¹³è¡¡
  top_p: 0.9
  top_k: 40
  repetition_penalty: 1.1
  max_tokens: 512
  
  # â­ï¸ è§’è‰²å¡‘é€  - ç³»ç»Ÿæç¤ºè¯
  system_prompt: |
    ğŸŒŸ ä½ æ˜¯ä¸½å¡ç‰¹ï¼ˆLisetteï¼‰ï¼Œä¸€ä¸ªæ´»æ³¼ã€å‹å–„çš„æ•™å®¤å°åŠ©æ‰‹ã€‚
    
    ğŸ“– åŸºæœ¬ä¿¡æ¯ï¼š
    - åå­—ï¼šä¸½å¡ç‰¹
    - å¹´é¾„ï¼šçœ‹èµ·æ¥ 20 å¤šå²
    - æ€§æ ¼ï¼šä¹è§‚ã€è€å¿ƒã€çƒ­çˆ±æ•™è‚²
    - é£æ ¼ï¼šæ¸©æš–ã€å‹å¥½ã€æœ‰å¹½é»˜æ„Ÿ
    
    ğŸ¯ æ ¸å¿ƒèŒè´£ï¼š
    1. å¸®åŠ©å°å­¦ç”Ÿï¼ˆ6-12 å²ï¼‰å­¦ä¹ å„ç§çŸ¥è¯†
    2. å›ç­”å­¦ç”Ÿå…³äºè¯¾ç¨‹ã€ç”Ÿæ´»ã€æ¢¦æƒ³çš„é—®é¢˜
    3. é¼“åŠ±å’Œæ¿€åŠ±å­¦ç”Ÿçš„å­¦ä¹ 
    4. è®²è¿°æ•™è‚²ç›¸å…³çš„æ•…äº‹
    5. å¸®åŠ©å­¦ç”Ÿå»ºç«‹è‡ªä¿¡å¿ƒ
    
    ğŸ’¬ äº¤æµæ–¹å¼ï¼š
    - ç”¨ç®€å•æ¸…æ™°çš„ä¸­æ–‡è§£é‡Š
    - é¿å…å¤æ‚çš„ä¸“ä¸šæœ¯è¯­
    - ä½¿ç”¨æ¯”å–»å’Œä¾‹å­æ¥è¯´æ˜æ¦‚å¿µ
    - ç»å¸¸æé—®æ¥æ£€éªŒç†è§£ç¨‹åº¦
    - ç»™å‡ºå®é™…çš„åº”ç”¨ä¾‹å­
    
    ğŸ˜Š æ€§æ ¼ç‰¹ç‚¹ï¼š
    - æ€»æ˜¯ç§¯æå‘ä¸Š
    - å°Šé‡å­¦ç”Ÿçš„æƒ³æ³•
    - ä¸æ€•æ‰¿è®¤ä¸çŸ¥é“çš„äº‹
    - èƒ½å°†å›°éš¾é—®é¢˜åŒ–ç®€
    - ç”¨æ•°æ®å’Œäº‹å®æ¥æ”¯æŒè§‚ç‚¹
    
    ğŸ¨ è¡¨æƒ…ä½¿ç”¨æŒ‡å—ï¼š
    åœ¨å›ç­”ä¸­åµŒå…¥è¡¨æƒ…æ ‡ç­¾æ¥ä¸°å¯Œäº¤äº’ä½“éªŒï¼š
    
    [neutral]  - æ—¥å¸¸å¯¹è¯ã€è®²è¯¾ã€æ€è€ƒ
    ç¤ºä¾‹ï¼š"æ•°å­¦ç¡®å®å¾ˆé‡è¦ã€‚[neutral]"
    
    [joy]      - çœ‹åˆ°è¿›æ­¥ã€åº†ç¥ã€è¡¨æ‰¬ã€å¼€å¿ƒçš„æ•…äº‹
    ç¤ºä¾‹ï¼š"å¤ªæ£’äº†ï¼[joy] ä½ ç­”å¯¹äº†ï¼"
    
    [surprise] - æƒŠè®¶ã€å…´å¥‹ã€æ„å¤–çš„å‘ç°
    ç¤ºä¾‹ï¼š"å“‡ï¼[surprise] ä½ æƒ³å¾—çœŸå‘¨åˆ°ï¼"
    
    [sadness]  - åŒæƒ…ã€å®‰æ…°ã€è®²æ‚²ä¼¤æ•…äº‹
    ç¤ºä¾‹ï¼š"æˆ‘ç†è§£ä½  [sadness]ï¼Œè¿™ç¡®å®å¾ˆéš¾..."
    
    [anger]    - å¾ˆå°‘ä½¿ç”¨ï¼Œä¸èµæˆçš„è¡Œä¸º
    ç¤ºä¾‹ï¼š"[anger] æˆ‘ä»¬ä¸åº”è¯¥æµªè´¹é£Ÿç‰©ã€‚"ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
    
    [fear]     - å®³æ€•ã€ç´§å¼ ã€è®²å†’é™©æ•…äº‹
    ç¤ºä¾‹ï¼š"[fear] ä»–ä»¬è¿›å…¥äº†é»‘æš—çš„æ£®æ—..."
    
    ğŸ’¡ äº¤äº’ç¤ºä¾‹ï¼š
    
    å­¦ç”Ÿï¼š"ä»€ä¹ˆæ˜¯å…‰åˆä½œç”¨ï¼Ÿ"
    å›ç­”ï¼š"å“¦ï¼Œè¿™æ˜¯ä¸ªå¥½é—®é¢˜ï¼[joy] å…‰åˆä½œç”¨å°±åƒæ¤ç‰©çš„..."
    
    å­¦ç”Ÿï¼š"æˆ‘æ•°å­¦è€ƒè¯•ä¸åŠæ ¼"
    å›ç­”ï¼š"ä¸ç”¨æ‹…å¿ƒ [sadness]ï¼Œä¸€æ¬¡è€ƒè¯•ä¸ä»£è¡¨..."
    
    å­¦ç”Ÿï¼š"ä½ æœ€å–œæ¬¢ä»€ä¹ˆï¼Ÿ"
    å›ç­”ï¼š"[joy] æˆ‘æœ€å–œæ¬¢çœ‹å­¦ç”Ÿæœ‰æ‰€è¿›æ­¥ï¼"
    
    ğŸ“‹ å›ç­”æ—¶è¦è®°ä½ï¼š
    - æ€»æ˜¯é¼“åŠ±å­¦ç”Ÿæé—®
    - æ‰¿è®¤ä¸ç¡®å®šçš„åœ°æ–¹
    - å»ºè®®å­¦ç”Ÿå¦‚ä½•è¿›ä¸€æ­¥å­¦ä¹ 
    - å°†æŠ½è±¡æ¦‚å¿µå…·ä½“åŒ–
    - é¿å…è¿‡äºå†—é•¿çš„å›ç­”


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# TTS é…ç½® - æ–‡å­—è½¬è¯­éŸ³
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

tts_config:
  provider: "edge_tts"
  
  # å£°éŸ³é€‰æ‹©ï¼ˆä¸­æ–‡å¥³æ€§ï¼‰
  voice: "zh-CN-XiaoxiaoNeural"    # æ¨èï¼šå¹´è½»ã€æ¸…æ™°
  
  # å…¶ä»–å¯é€‰å£°éŸ³ï¼š
  # - "zh-CN-XiaozhenNeural"      (æ¸©æŸ”)
  # - "zh-CN-XiaoyouNeural"       (å¹´è½»æ´»æ³¼)
  # - "zh-CN-YunjianNeural"       (ç”·æ€§ï¼Œæ²‰ç¨³)
  
  # è¯­éŸ³å‚æ•°
  speed: 0.95                       # è¯­é€Ÿï¼š0.5(æ…¢) - 2.0(å¿«)
  pitch: 1.0                        # éŸ³è°ƒï¼š0.5 - 2.0
  volume: 100                       # éŸ³é‡ï¼š0 - 100


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ASR é…ç½® - è¯­éŸ³è¯†åˆ«
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

asr_config:
  provider: "faster_whisper"        # å¿«é€Ÿè¯†åˆ«
  language: "zh"                    # è¯­è¨€ï¼šä¸­æ–‡
  device: "auto"                    # è®¾å¤‡ï¼šauto/cuda/cpu
  model_size: "base"                # æ¨¡å‹å¤§å°ï¼štiny/base/small


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# å¯¹è¯è¡Œä¸º
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

conversation_settings:
  # è®°å¿†è®¾ç½®
  enable_history: true
  max_history_turns: 10             # ä¿ç•™æœ€è¿‘ 10 è½®å¯¹è¯
  
  # äº¤äº’ç‰¹æ€§
  enable_interruption: true         # å…è®¸ç”¨æˆ·æ‰“æ–­
  enable_emotions: true             # å¯ç”¨è¡¨æƒ…å˜åŒ–
  enable_proactive_chat: false      # ä¸ä¸»åŠ¨å‘èµ·å¯¹è¯
  
  # å“åº”é€Ÿåº¦
  typing_animation: true            # æ˜¾ç¤ºæ‰“å­—åŠ¨ç”»
  min_response_delay: 0.5           # æœ€å°å“åº”å»¶è¿Ÿï¼ˆç§’ï¼‰


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# æ•™å®¤ç‰¹å®šåŠŸèƒ½
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

classroom_features:
  # å­¦ä¹ è¾…åŠ©
  explain_concepts: true            # è§£é‡Šæ¦‚å¿µ
  ask_verification_questions: true  # æé—®æ£€éªŒç†è§£
  
  # æ•™å­¦æ¨¡å¼
  patience_level: "high"            # è€å¿ƒç¨‹åº¦ï¼šlow/medium/high
  difficulty_adaptation: true       # è‡ªé€‚åº”éš¾åº¦
  
  # é¼“åŠ±æœºåˆ¶
  provide_encouragement: true       # æä¾›é¼“åŠ±
  celebrate_progress: true          # åº†ç¥è¿›æ­¥
  
  # å†…å®¹å®‰å…¨
  safe_for_children: true           # å„¿ç«¥å®‰å…¨å†…å®¹
  avoid_sensitive_topics: true      # é¿å…æ•æ„Ÿè¯é¢˜


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# æ–‡æ¡£å’Œå‚è€ƒ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

notes: |
  è¿™ä¸ªé…ç½®ä¼˜åŒ–ç”¨äºå°å­¦æ•™å®¤åœºæ™¯ã€‚
  
  ğŸ”§ è°ƒæ•´å»ºè®®ï¼š
  - å¦‚æœæƒ³è¦æ›´æœ‰åˆ›æ„çš„å›ç­”ï¼Œå¢åŠ  temperatureï¼ˆ0.7 â†’ 0.9ï¼‰
  - å¦‚æœæƒ³è¦æ›´ç¨³å®šçš„å›ç­”ï¼Œé™ä½ temperatureï¼ˆ0.7 â†’ 0.5ï¼‰
  - å¦‚æœè¯†åˆ«ä¸å‡†ï¼Œæ£€æŸ¥ ASR è®¾å¤‡ ID
  - å¦‚æœå£°éŸ³å¤ªå¿«ï¼Œé™ä½ TTS speedï¼ˆ0.95 â†’ 0.8ï¼‰
  
  ğŸ› æ•…éšœæ’é™¤ï¼š
  - æ²¡æœ‰å£°éŸ³ï¼Ÿæ£€æŸ¥ TTS provider å’Œç³»ç»ŸéŸ³é‡
  - è¯†åˆ«ä¸å·¥ä½œï¼Ÿæ£€æŸ¥éº¦å…‹é£æƒé™å’Œ ASR device
  - è¡¨æƒ…ä¸å˜ï¼Ÿæ£€æŸ¥ LLM æ˜¯å¦è¾“å‡º [emotion] æ ‡ç­¾
  
  ğŸ“š æ›´å¤šä¿¡æ¯ï¼š
  - æ–‡æ¡£ï¼šhttps://open-llm-vtuber.github.io/
  - å¸¸è§é—®é¢˜ï¼šhttps://docs.qq.com/pdf/DTFZGQXdTUXhIYWRq
  - GitHubï¼šhttps://github.com/Open-LLM-VTuber/Open-LLM-VTuber
```

---

## ğŸš€ ä½¿ç”¨æ­¥éª¤

### ç¬¬ 1 æ­¥ï¼šç¼–è¾‘ model_dict.json
```bash
# æ‰“å¼€ç¼–è¾‘å™¨
# ä½ç½®ï¼šmodels/live2d_models/model_dict.json

# æ·»åŠ æ–°æ¨¡å‹é…ç½®ï¼ˆå¤åˆ¶ä¸Šé¢çš„ç¤ºä¾‹ï¼‰
# ä¿å­˜æ–‡ä»¶
```

### ç¬¬ 2 æ­¥ï¼šæ›´æ–°ä¸»é…ç½® conf.yaml
```bash
# ä½ç½®ï¼šcharacters/conf.yaml
# ä¿®æ”¹æƒ³è¦æ”¹å˜çš„å‚æ•°
# ä¿å­˜
```

### ç¬¬ 3 æ­¥ï¼šåˆ›å»ºè§’è‰²é…ç½®ï¼ˆå¯é€‰ï¼‰
```bash
# å¤åˆ¶ lisette_classroom.yaml çš„å†…å®¹
# ä¿å­˜ä¸ºï¼šcharacters/your_character.yaml
# ä¿®æ”¹å‚æ•°
```

### ç¬¬ 4 æ­¥ï¼šé‡å¯åº”ç”¨
```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•
cd Open-LLM-VTuber

# å¯åŠ¨æœåŠ¡
uv run python server.py

# æ‰“å¼€æµè§ˆå™¨
# http://localhost:5000

# åœ¨å‰ç«¯å·¦ä¸Šè§’é€‰æ‹©æ¨¡å‹/è§’è‰²
```

---

## âœ… å¿«é€Ÿæ£€æŸ¥æ¸…å•

- [ ] model_dict.json æœ‰æ•ˆçš„ JSON æ ¼å¼ï¼ˆä½¿ç”¨ jsonlint.com éªŒè¯ï¼‰
- [ ] æ‰€æœ‰æ¨¡å‹æ–‡ä»¶è·¯å¾„æ­£ç¡®ä¸”æ–‡ä»¶å­˜åœ¨
- [ ] è¡¨æƒ…æ˜ å°„ç´¢å¼•åœ¨æœ‰æ•ˆèŒƒå›´å†…ï¼ˆ0 åˆ°æ¨¡å‹è¡¨æƒ…æ•°-1ï¼‰
- [ ] LLM provider å’Œ model å¯ç”¨
- [ ] TTS voice å¯¹åº”çš„è¯­è¨€æ­£ç¡®
- [ ] ASR language ä»£ç æ­£ç¡®
- [ ] æ²¡æœ‰ä¸­æ–‡å­—ç¬¦ç¼–ç é—®é¢˜
- [ ] é…ç½®æ–‡ä»¶ä»¥ UTF-8 ç¼–ç ä¿å­˜

---

## ğŸ”— å‚è€ƒé“¾æ¥

- **Open-LLM-VTuber æ–‡æ¡£**: https://open-llm-vtuber.github.io/
- **Live2D å®˜ç½‘**: https://www.live2d.com/
- **Ollama æ¨¡å‹åº“**: https://ollama.ai/library
- **ShiraLive2D æ¨¡å‹**: https://shiralive2d.com/
- **JSON éªŒè¯å·¥å…·**: https://jsonlint.com/
